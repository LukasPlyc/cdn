(function (e) { "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(jQuery) })(function (e) { "use strict"; var o = !1, r = !1, l = 0, t = 2e3, s = 0, c = e, i = document, u = window, h = c(u), p = [], g = u.requestAnimationFrame || u.webkitRequestAnimationFrame || u.mozRequestAnimationFrame || !1, w = u.cancelAnimationFrame || u.webkitCancelAnimationFrame || u.mozCancelAnimationFrame || !1; if (!g) { var b = 0; g = function (e) { var o = new Date().getTime(), r = Math.max(0, 16 - (o - b)), l = u.setTimeout(function () { e(o + r) }, r); return b = o + r, l }, w = function (e) { u.clearTimeout(e) } } else u.cancelAnimationFrame || (w = function () { }); var y = u.MutationObserver || u.WebKitMutationObserver || !1, f = Date.now || function () { return new Date().getTime() }, x = { zindex: "auto", cursoropacitymin: 0, cursoropacitymax: 1, cursorcolor: "#424242", cursorwidth: "6px", cursorborder: "1px solid #fff", cursorborderradius: "5px", scrollspeed: 40, mousescrollstep: 27, touchbehavior: !1, emulatetouch: !1, hwacceleration: !0, usetransition: !0, boxzoom: !1, dblclickzoom: !0, gesturezoom: !0, grabcursorenabled: !0, autohidemode: !0, background: "", iframeautoresize: !0, cursorminheight: 32, preservenativescrolling: !0, railoffset: !1, railhoffset: !1, bouncescroll: !0, spacebarenabled: !0, railpadding: { top: 0, right: 0, left: 0, bottom: 0 }, disableoutline: !0, horizrailenabled: !0, railalign: "right", railvalign: "bottom", enabletranslate3d: !0, enablemousewheel: !0, enablekeyboard: !0, smoothscroll: !0, sensitiverail: !0, enablemouselockapi: !0, cursorfixedheight: !1, directionlockdeadzone: 6, hidecursordelay: 400, nativeparentscrolling: !0, enablescrollonselection: !0, overflowx: !0, overflowy: !0, cursordragspeed: .3, rtlmode: "auto", cursordragontouch: !1, oneaxismousemode: "auto", scriptpath: function () { var e = i.currentScript || function () { var e = i.getElementsByTagName("script"); return !!e.length && e[e.length - 1] }(), o = e ? e.src.split("?")[0] : ""; return 0 < o.split("/").length ? o.split("/").slice(0, -1).join("/") + "/" : "" }(), preventmultitouchscrolling: !0, disablemutationobserver: !1, enableobserver: !0, scrollbarid: !1, scrollCLass: !1 }, S = !1, z = function () { if (S) return S; var e = i.createElement("DIV"), o = e.style, r = navigator.userAgent, l = navigator.platform, t = {}; return t.haspointerlock = "pointerLockElement" in i || "webkitPointerLockElement" in i || "mozPointerLockElement" in i, t.isopera = "opera" in u, t.isopera12 = t.isopera && "getUserMedia" in navigator, t.isoperamini = "[object OperaMini]" === Object.prototype.toString.call(u.operamini), t.isie = "all" in i && "attachEvent" in e && !t.isopera, t.isieold = t.isie && !("msInterpolationMode" in o), t.isie7 = t.isie && !t.isieold && (!("documentMode" in i) || 7 === i.documentMode), t.isie8 = t.isie && "documentMode" in i && 8 === i.documentMode, t.isie9 = t.isie && "performance" in u && 9 === i.documentMode, t.isie10 = t.isie && "performance" in u && 10 === i.documentMode, t.isie11 = "msRequestFullscreen" in e && 11 <= i.documentMode, t.ismsedge = "msCredentials" in u, t.ismozilla = "MozAppearance" in o, t.iswebkit = !t.ismsedge && "WebkitAppearance" in o, t.ischrome = t.iswebkit && "chrome" in u, t.ischrome38 = t.ischrome && "touchAction" in o, t.ischrome22 = !t.ischrome38 && t.ischrome && t.haspointerlock, t.ischrome26 = !t.ischrome38 && t.ischrome && "transition" in o, t.cantouch = "ontouchstart" in i.documentElement || "ontouchstart" in u, t.hasw3ctouch = (u.PointerEvent || !1) && (0 < navigator.maxTouchPoints || 0 < navigator.msMaxTouchPoints), t.hasmstouch = !t.hasw3ctouch && (u.MSPointerEvent || !1), t.ismac = /^mac$/i.test(l), t.isios = t.cantouch && /iphone|ipad|ipod/i.test(l), t.isios4 = t.isios && !("seal" in Object), t.isios7 = t.isios && "webkitHidden" in i, t.isios8 = t.isios && "hidden" in i, t.isios10 = t.isios && u.Proxy, t.isandroid = /android/i.test(r), t.haseventlistener = "addEventListener" in e, t.trstyle = !1, t.hastransform = !1, t.hastranslate3d = !1, t.transitionstyle = !1, t.hastransition = !1, t.transitionend = !1, t.trstyle = "transform", t.hastransform = "transform" in o || function () { for (var e = ["msTransform", "webkitTransform", "MozTransform", "OTransform"], r = 0, l = e.length; r < l; r++)if (void 0 !== o[e[r]]) { t.trstyle = e[r]; break } t.hastransform = !!t.trstyle }(), t.hastransform && (o[t.trstyle] = "translate3d(1px,2px,3px)", t.hastranslate3d = /translate3d/.test(o[t.trstyle])), t.transitionstyle = "transition", t.prefixstyle = "", t.transitionend = "transitionend", t.hastransition = "transition" in o || function () { t.transitionend = !1; for (var e = ["webkitTransition", "msTransition", "MozTransition", "OTransition", "OTransition", "KhtmlTransition"], r = ["-webkit-", "-ms-", "-moz-", "-o-", "-o", "-khtml-"], l = ["webkitTransitionEnd", "msTransitionEnd", "transitionend", "otransitionend", "oTransitionEnd", "KhtmlTransitionEnd"], s = 0, i = e.length; s < i; s++)if (e[s] in o) { t.transitionstyle = e[s], t.prefixstyle = r[s], t.transitionend = l[s]; break } t.ischrome26 && (t.prefixstyle = r[1]), t.hastransition = t.transitionstyle }(), t.cursorgrabvalue = function () { var e = ["grab", "-webkit-grab", "-moz-grab"]; (t.ischrome && !t.ischrome38 || t.isie) && (e = []); for (var r, s = 0, i = e.length; s < i; s++)if (r = e[s], o.cursor = r, o.cursor == r) return r; return "url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize" }(), t.hasmousecapture = "setCapture" in e, t.hasMutationObserver = !1 !== y, e = null, S = t, t }, k = function (e, n) { function d() { var e = E.doc.css(R.trstyle); return !!(e && "matrix" == e.substr(0, 6)) && e.replace(/^.*\((.*)\)$/g, "$1").replace(/px/g, "").split(/, +/) } function m() { var e = E.win; if ("zIndex" in e) return e.zIndex(); for (; 0 < e.length;) { if (9 == e[0].nodeType) return !1; var o = e.css("zIndex"); if (!isNaN(o) && 0 !== o) return parseInt(o); e = e.parent() } return !1 } function b(e, o, r) { var l = e.css(o), t = parseFloat(l); if (isNaN(t)) { t = Y[l] || 0; var s = 3 == t ? r ? E.win.outerHeight() - E.win.innerHeight() : E.win.outerWidth() - E.win.innerWidth() : 1; return E.isie8 && t && (t += 1), s ? t : 0 } return t } function v(o, r, l, e) { E._bind(o, r, function (t) { t = t || u.event; var s = { original: t, target: t.target || t.srcElement, type: "wheel", deltaMode: "MozMousePixelScroll" == t.type ? 0 : 1, deltaX: 0, deltaZ: 0, preventDefault: function () { return t.preventDefault ? t.preventDefault() : t.returnValue = !1, !1 }, stopImmediatePropagation: function () { t.stopImmediatePropagation ? t.stopImmediatePropagation() : t.cancelBubble = !0 } }; return "mousewheel" == r ? (t.wheelDeltaX && (s.deltaX = -1 / 40 * t.wheelDeltaX), t.wheelDeltaY && (s.deltaY = -1 / 40 * t.wheelDeltaY), !s.deltaY && !s.deltaX && (s.deltaY = -1 / 40 * t.wheelDelta)) : s.deltaY = t.detail, l.call(o, s) }, e) } function S(e, o, r, l) { E.scrollrunning || (E.newscrolly = E.getScrollTop(), E.newscrollx = E.getScrollLeft(), D = f()); var t = f() - D; if (D = f(), 350 < t ? A = 1 : A += (2 - A) / 10, e = 0 | e * A, o = 0 | o * A, e) { if (l) if (0 > e) { if (E.getScrollLeft() >= E.page.maxw) return !0; } else if (0 >= E.getScrollLeft()) return !0; var s = 0 < e ? 1 : -1; O !== s && (E.scrollmom && E.scrollmom.stop(), E.newscrollx = E.getScrollLeft(), O = s), E.lastdeltax -= e } if (o) { var i = function () { var e = E.getScrollTop(); if (0 > o) { if (e >= E.page.maxh) return !0; } else if (0 >= e) return !0 }(); if (i) { if (C.nativeparentscrolling && r && !E.ispage && !E.zoomactive) return !0; var a = E.view.h >> 1; E.newscrolly < -a ? (E.newscrolly = -a, o = -1) : E.newscrolly > E.page.maxh + a ? (E.newscrolly = E.page.maxh + a, o = 1) : o = 0 } var n = 0 < o ? 1 : -1; I !== n && (E.scrollmom && E.scrollmom.stop(), E.newscrolly = E.getScrollTop(), I = n), E.lastdeltay -= o } (o || e) && E.synched("relativexy", function () { var e = E.lastdeltay + E.newscrolly; E.lastdeltay = 0; var o = E.lastdeltax + E.newscrollx; E.lastdeltax = 0, E.rail.drag || E.doScrollPos(o, e) }) } function k(o, e, r) { var l, t; if (!r && q) return !0; if (0 === o.deltaMode ? (l = 0 | -(o.deltaX * (C.mousescrollstep / 54)), t = 0 | -(o.deltaY * (C.mousescrollstep / 54))) : 1 === o.deltaMode && (l = 0 | -(50 * (o.deltaX * C.mousescrollstep) / 80), t = 0 | -(50 * (o.deltaY * C.mousescrollstep) / 80)), e && C.oneaxismousemode && 0 === l && t && (l = t, t = 0, r)) { var s = 0 > l ? E.getScrollLeft() >= E.page.maxw : 0 >= E.getScrollLeft(); s && (t = l, l = 0) } E.isrtlmode && (l = -l); var i = S(l, t, r, !0); return i ? void (r && (q = !0)) : (q = !1, o.stopImmediatePropagation(), o.preventDefault()) } var E = this; this.version = "3.7.6", this.name = "nicescroll", this.me = n; var L = c("body"), C = this.opt = { doc: L, win: !1 }; if (c.extend(C, x), C.snapbackspeed = 80, e || !1) for (var P in C) void 0 !== e[P] && (C[P] = e[P]); if (C.disablemutationobserver && (y = !1), this.doc = C.doc, this.iddoc = this.doc && this.doc[0] ? this.doc[0].id || "" : "", this.ispage = /^BODY|HTML/.test(C.win ? C.win[0].nodeName : this.doc[0].nodeName), this.haswrapper = !1 !== C.win, this.win = C.win || (this.ispage ? h : this.doc), this.docscroll = this.ispage && !this.haswrapper ? h : this.win, this.body = L, this.viewport = !1, this.isfixed = !1, this.iframe = !1, this.isiframe = "IFRAME" == this.doc[0].nodeName && "IFRAME" == this.win[0].nodeName, this.istextarea = "TEXTAREA" == this.win[0].nodeName, this.forcescreen = !1, this.canshowonmouseevent = "scroll" != C.autohidemode, this.onmousedown = !1, this.onmouseup = !1, this.onmousemove = !1, this.onmousewheel = !1, this.onkeypress = !1, this.ongesturezoom = !1, this.onclick = !1, this.onscrollstart = !1, this.onscrollend = !1, this.onscrollcancel = !1, this.onzoomin = !1, this.onzoomout = !1, this.view = !1, this.page = !1, this.scroll = { x: 0, y: 0 }, this.scrollratio = { x: 0, y: 0 }, this.cursorheight = 20, this.scrollvaluemax = 0, "auto" == C.rtlmode) { var a = this.win[0] == u ? this.body : this.win, M = a.css("writing-mode") || a.css("-webkit-writing-mode") || a.css("-ms-writing-mode") || a.css("-moz-writing-mode"); "horizontal-tb" == M || "lr-tb" == M || "" === M ? (this.isrtlmode = "rtl" == a.css("direction"), this.isvertical = !1) : (this.isrtlmode = "vertical-rl" == M || "tb" == M || "tb-rl" == M || "rl-tb" == M, this.isvertical = "vertical-rl" == M || "tb" == M || "tb-rl" == M) } else this.isrtlmode = !0 === C.rtlmode, this.isvertical = !1; if (this.scrollrunning = !1, this.scrollmom = !1, this.observer = !1, this.observerremover = !1, this.observerbody = !1, !1 !== C.scrollbarid) this.id = C.scrollbarid; else do this.id = "ascrail" + t++; while (i.getElementById(this.id)); this.rail = !1, this.cursor = !1, this.cursorfreezed = !1, this.selectiondrag = !1, this.zoom = !1, this.zoomactive = !1, this.hasfocus = !1, this.hasmousefocus = !1, this.railslocked = !1, this.locked = !1, this.hidden = !1, this.cursoractive = !0, this.wheelprevented = !1, this.overflowx = C.overflowx, this.overflowy = C.overflowy, this.nativescrollingarea = !1, this.checkarea = 0, this.events = [], this.saved = {}, this.delaylist = {}, this.synclist = {}, this.lastdeltax = 0, this.lastdeltay = 0, this.detected = z(); var R = c.extend({}, this.detected); this.canhwscroll = R.hastransform && C.hwacceleration, this.ishwscroll = this.canhwscroll && E.haswrapper, this.hasreversehr = !!this.isrtlmode && (this.isvertical ? !(R.iswebkit || R.isie || R.isie11) : !R.iswebkit && (!R.isie || R.isie10 || R.isie11)), this.istouchcapable = !1, !R.cantouch && (R.hasw3ctouch || R.hasmstouch) ? this.istouchcapable = !0 : R.cantouch && !R.isios && !R.isandroid && (R.iswebkit || R.ismozilla) && (this.istouchcapable = !0), C.enablemouselockapi || (R.hasmousecapture = !1, R.haspointerlock = !1), this.debounced = function (e, o, r) { if (E) { var l = E.delaylist[e] || !1; l || (E.delaylist[e] = { h: g(function () { E.delaylist[e].fn.call(E), E.delaylist[e] = !1 }, r) }, o.call(E)), E.delaylist[e].fn = o } }, this.synched = function (e, o) { E.synclist[e] ? E.synclist[e] = o : (E.synclist[e] = o, g(function () { E && (E.synclist[e] && E.synclist[e].call(E), E.synclist[e] = null) })) }, this.unsynched = function (e) { E.synclist[e] && (E.synclist[e] = !1) }, this.css = function (e, o) { for (var r in o) E.saved.css.push([e, r, e.css(r)]), e.css(r, o[r]) }, this.scrollTop = function (e) { return void 0 === e ? E.getScrollTop() : E.setScrollTop(e) }, this.scrollLeft = function (e) { return void 0 === e ? E.getScrollLeft() : E.setScrollLeft(e) }; var _ = function (e, o, r, l, t, s, i) { this.st = e, this.ed = o, this.spd = r, this.p1 = l || 0, this.p2 = t || 1, this.p3 = s || 0, this.p4 = i || 1, this.ts = f(), this.df = o - e }; if (_.prototype = { B2: function (e) { return 3 * (1 - e) * (1 - e) * e }, B3: function (e) { return 3 * (1 - e) * e * e }, B4: function (e) { return e * e * e }, getPos: function () { return (f() - this.ts) / this.spd }, getNow: function () { var e = (f() - this.ts) / this.spd, o = this.B2(e) + this.B3(e) + this.B4(e); return 1 <= e ? this.ed : 0 | this.st + this.df * o }, update: function (e, o) { return this.st = this.getNow(), this.ed = e, this.spd = o, this.ts = f(), this.df = this.ed - this.st, this } }, this.ishwscroll) { this.doc.translate = { x: 0, y: 0, tx: "0px", ty: "0px" }, R.hastranslate3d && R.isios && this.doc.css("-webkit-backface-visibility", "hidden"), this.getScrollTop = function (e) { if (!e) { var o = d(); if (o) return 16 == o.length ? -o[13] : -o[5]; if (E.timerscroll && E.timerscroll.bz) return E.timerscroll.bz.getNow() } return E.doc.translate.y }, this.getScrollLeft = function (e) { if (!e) { var o = d(); if (o) return 16 == o.length ? -o[12] : -o[4]; if (E.timerscroll && E.timerscroll.bh) return E.timerscroll.bh.getNow() } return E.doc.translate.x }, this.notifyScrollEvent = function (o) { var r = i.createEvent("UIEvents"); r.initUIEvent("scroll", !1, !1, u, 1), r.niceevent = !0, o.dispatchEvent(r) }; var N = this.isrtlmode ? 1 : -1; R.hastranslate3d && C.enabletranslate3d ? (this.setScrollTop = function (e, o) { E.doc.translate.y = e, E.doc.translate.ty = -1 * e + "px", E.doc.css(R.trstyle, "translate3d(" + E.doc.translate.tx + "," + E.doc.translate.ty + ",0)"), o || E.notifyScrollEvent(E.win[0]) }, this.setScrollLeft = function (e, o) { E.doc.translate.x = e, E.doc.translate.tx = e * N + "px", E.doc.css(R.trstyle, "translate3d(" + E.doc.translate.tx + "," + E.doc.translate.ty + ",0)"), o || E.notifyScrollEvent(E.win[0]) }) : (this.setScrollTop = function (e, o) { E.doc.translate.y = e, E.doc.translate.ty = -1 * e + "px", E.doc.css(R.trstyle, "translate(" + E.doc.translate.tx + "," + E.doc.translate.ty + ")"), o || E.notifyScrollEvent(E.win[0]) }, this.setScrollLeft = function (e, o) { E.doc.translate.x = e, E.doc.translate.tx = e * N + "px", E.doc.css(R.trstyle, "translate(" + E.doc.translate.tx + "," + E.doc.translate.ty + ")"), o || E.notifyScrollEvent(E.win[0]) }) } else this.getScrollTop = function () { return E.docscroll.scrollTop() }, this.setScrollTop = function (e) { E.docscroll.scrollTop(e) }, this.getScrollLeft = function () { var e; return e = E.hasreversehr ? E.detected.ismozilla ? E.page.maxw - Math.abs(E.docscroll.scrollLeft()) : E.page.maxw - E.docscroll.scrollLeft() : E.docscroll.scrollLeft(), e }, this.setScrollLeft = function (e) { return setTimeout(function () { if (E) return E.hasreversehr && (E.detected.ismozilla ? e = -(E.page.maxw - e) : e = E.page.maxw - e), E.docscroll.scrollLeft(e) }, 1) }; this.getTarget = function (o) { return !!o && (o.target ? o.target : !!o.srcElement && o.srcElement) }, this.hasParent = function (o, e) { if (!o) return !1; for (var r = o.target || o.srcElement || o || !1; r && r.id != e;)r = r.parentNode || !1; return !1 !== r }; var Y = { thin: 1, medium: 3, thick: 5 }; this.getDocumentScrollOffset = function () { return { top: u.pageYOffset || i.documentElement.scrollTop, left: u.pageXOffset || i.documentElement.scrollLeft } }, this.getOffset = function () { if (E.isfixed) { var e = E.win.offset(), o = E.getDocumentScrollOffset(); return e.top -= o.top, e.left -= o.left, e } var r = E.win.offset(); if (!E.viewport) return r; var l = E.viewport.offset(); return { top: r.top - l.top, left: r.left - l.left } }, this.updateScrollBar = function (e) { var o, r; if (E.ishwscroll) E.rail.css({ height: E.win.innerHeight() - (C.railpadding.top + C.railpadding.bottom) }), E.railh && E.railh.css({ width: E.win.innerWidth() - (C.railpadding.left + C.railpadding.right) }); else { var l = E.getOffset(); if (o = { top: l.top, left: l.left - (C.railpadding.left + C.railpadding.right) }, o.top += b(E.win, "border-top-width", !0), o.left += E.rail.align ? E.win.outerWidth() - b(E.win, "border-right-width") - E.rail.width : b(E.win, "border-left-width"), r = C.railoffset, r && (r.top && (o.top += r.top), r.left && (o.left += r.left)), E.railslocked || E.rail.css({ top: o.top, left: o.left, height: (e ? e.h : E.win.innerHeight()) - (C.railpadding.top + C.railpadding.bottom) }), E.zoom && E.zoom.css({ top: o.top + 1, left: 1 == E.rail.align ? o.left - 20 : o.left + E.rail.width + 4 }), E.railh && !E.railslocked) { o = { top: l.top, left: l.left }, r = C.railhoffset, r && (r.top && (o.top += r.top), r.left && (o.left += r.left)); var t = E.railh.align ? o.top + b(E.win, "border-top-width", !0) + E.win.innerHeight() - E.railh.height : o.top + b(E.win, "border-top-width", !0), s = o.left + b(E.win, "border-left-width"); E.railh.css({ top: t - (C.railpadding.top + C.railpadding.bottom), left: s, width: E.railh.width }) } } }, this.doRailClick = function (o, e, r) { var l, t, s, a; E.railslocked || (E.cancelEvent(o), !("pageY" in o) && (o.pageX = o.clientX + i.documentElement.scrollLeft, o.pageY = o.clientY + i.documentElement.scrollTop), e ? (l = r ? E.doScrollLeft : E.doScrollTop, s = r ? (o.pageX - E.railh.offset().left - E.cursorwidth / 2) * E.scrollratio.x : (o.pageY - E.rail.offset().top - E.cursorheight / 2) * E.scrollratio.y, E.unsynched("relativexy"), l(0 | s)) : (l = r ? E.doScrollLeftBy : E.doScrollBy, s = r ? E.scroll.x : E.scroll.y, a = r ? o.pageX - E.railh.offset().left : o.pageY - E.rail.offset().top, t = r ? E.view.w : E.view.h, l(s >= a ? t : -t))) }, E.newscrolly = E.newscrollx = 0, E.hasanimationframe = "requestAnimationFrame" in u, E.hascancelanimationframe = "cancelAnimationFrame" in u, E.hasborderbox = !1, this.init = function () { if (E.saved.css = [], R.isoperamini) return !0; if (R.isandroid && !("hidden" in i)) return !0; C.emulatetouch = C.emulatetouch || C.touchbehavior, E.hasborderbox = u.getComputedStyle && "border-box" === u.getComputedStyle(i.body)["box-sizing"]; var e = { "overflow-y": "hidden" }; if ((R.isie11 || R.isie10) && (e["-ms-overflow-style"] = "none"), E.ishwscroll && (this.doc.css(R.transitionstyle, R.prefixstyle + "transform 0ms ease-out"), R.transitionend && E.bind(E.doc, R.transitionend, E.onScrollTransitionEnd, !1)), E.zindex = "auto", E.zindex = E.ispage || "auto" != C.zindex ? C.zindex : m() || "auto", !E.ispage && "auto" != E.zindex && E.zindex > s && (s = E.zindex), E.isie && 0 === E.zindex && "auto" == C.zindex && (E.zindex = "auto"), !E.ispage || !R.isieold) { var t = E.docscroll; E.ispage && (t = E.haswrapper ? E.win : E.doc), E.css(t, e), E.ispage && (R.isie11 || R.isie) && E.css(c("html"), e), !R.isios || E.ispage || E.haswrapper || E.css(L, { "-webkit-overflow-scrolling": "touch" }); var d = c(i.createElement("div")); d.css({ position: "relative", top: 0, float: "right", width: C.cursorwidth, height: 0, "background-color": C.cursorcolor, border: C.cursorborder, "background-clip": "padding-box", "-webkit-border-radius": C.cursorborderradius, "-moz-border-radius": C.cursorborderradius, "border-radius": C.cursorborderradius }), d.addClass("nicescroll-cursors"), E.cursor = d; var p = c(i.createElement("div")); p.attr("id", E.id), p.addClass("nicescroll-rails nicescroll-rails-vr"), C.scrollCLass && p.addClass(C.scrollCLass); var g, w, b = ["left", "right", "top", "bottom"]; for (var f in b) w = b[f], g = C.railpadding[w] || 0, g && p.css("padding-" + w, g + "px"); p.append(d), p.width = Math.max(parseFloat(C.cursorwidth), d.outerWidth()), p.css({ width: p.width + "px", zIndex: E.zindex, background: C.background, cursor: "default" }), p.visibility = !0, p.scrollable = !0, p.align = "left" == C.railalign ? 0 : 1, E.rail = p, E.rail.drag = !1; var n = !1; !C.boxzoom || E.ispage || R.isieold || (n = i.createElement("div"), E.bind(n, "click", E.doZoom), E.bind(n, "mouseenter", function () { E.zoom.css("opacity", C.cursoropacitymax) }), E.bind(n, "mouseleave", function () { E.zoom.css("opacity", C.cursoropacitymin) }), E.zoom = c(n), E.zoom.css({ cursor: "pointer", zIndex: E.zindex, backgroundImage: "url(" + C.scriptpath + "zoomico.png)", height: 18, width: 18, backgroundPosition: "0 0" }), C.dblclickzoom && E.bind(E.win, "dblclick", E.doZoom), R.cantouch && C.gesturezoom && (E.ongesturezoom = function (o) { return 1.5 < o.scale && E.doZoomIn(o), .8 > o.scale && E.doZoomOut(o), E.cancelEvent(o) }, E.bind(E.win, "gestureend", E.ongesturezoom))), E.railh = !1; var x; if (C.horizrailenabled && (E.css(t, { overflowX: "hidden" }), d = c(i.createElement("div")), d.css({ position: "absolute", top: 0, height: C.cursorwidth, width: 0, backgroundColor: C.cursorcolor, border: C.cursorborder, backgroundClip: "padding-box", "-webkit-border-radius": C.cursorborderradius, "-moz-border-radius": C.cursorborderradius, "border-radius": C.cursorborderradius }), R.isieold && d.css("overflow", "hidden"), d.addClass("nicescroll-cursors"), E.cursorh = d, x = c(i.createElement("div")), x.attr("id", E.id + "-hr"), x.addClass("nicescroll-rails nicescroll-rails-hr"), C.scrollCLass && x.addClass(C.scrollCLass), x.height = Math.max(parseFloat(C.cursorwidth), d.outerHeight()), x.css({ height: x.height + "px", zIndex: E.zindex, background: C.background }), x.append(d), x.visibility = !0, x.scrollable = !0, x.align = "top" == C.railvalign ? 0 : 1, E.railh = x, E.railh.drag = !1), E.ispage) p.css({ position: "fixed", top: 0, height: "100%" }), p.css(p.align ? { right: 0 } : { left: 0 }), E.body.append(p), E.railh && (x.css({ position: "fixed", left: 0, width: "100%" }), x.css(x.align ? { bottom: 0 } : { top: 0 }), E.body.append(x)); else { if (E.ishwscroll) { "static" == E.win.css("position") && E.css(E.win, { position: "relative" }); var S = "HTML" == E.win[0].nodeName ? E.body : E.win; c(S).scrollTop(0).scrollLeft(0), E.zoom && (E.zoom.css({ position: "absolute", top: 1, right: 0, "margin-right": p.width + 4 }), S.append(E.zoom)), p.css({ position: "absolute", top: 0 }), p.css(p.align ? { right: 0 } : { left: 0 }), S.append(p), x && (x.css({ position: "absolute", left: 0, bottom: 0 }), x.css(x.align ? { bottom: 0 } : { top: 0 }), S.append(x)) } else { E.isfixed = "fixed" == E.win.css("position"); var z = E.isfixed ? "fixed" : "absolute"; E.isfixed || (E.viewport = E.getViewport(E.win[0])), E.viewport && (E.body = E.viewport, !/fixed|absolute/.test(E.viewport.css("position")) && E.css(E.viewport, { position: "relative" })), p.css({ position: z }), E.zoom && E.zoom.css({ position: z }), E.updateScrollBar(), E.body.append(p), E.zoom && E.body.append(E.zoom), E.railh && (x.css({ position: z }), E.body.append(x)) } R.isios && E.css(E.win, { "-webkit-tap-highlight-color": "rgba(0,0,0,0)", "-webkit-touch-callout": "none" }), C.disableoutline && (R.isie && E.win.attr("hideFocus", "true"), R.iswebkit && E.win.css("outline", "none")) } if (!1 === C.autohidemode ? (E.autohidedom = !1, E.rail.css({ opacity: C.cursoropacitymax }), E.railh && E.railh.css({ opacity: C.cursoropacitymax })) : !0 === C.autohidemode || "leave" === C.autohidemode ? (E.autohidedom = c().add(E.rail), R.isie8 && (E.autohidedom = E.autohidedom.add(E.cursor)), E.railh && (E.autohidedom = E.autohidedom.add(E.railh)), E.railh && R.isie8 && (E.autohidedom = E.autohidedom.add(E.cursorh))) : "scroll" == C.autohidemode ? (E.autohidedom = c().add(E.rail), E.railh && (E.autohidedom = E.autohidedom.add(E.railh))) : "cursor" == C.autohidemode ? (E.autohidedom = c().add(E.cursor), E.railh && (E.autohidedom = E.autohidedom.add(E.cursorh))) : "hidden" == C.autohidemode && (E.autohidedom = !1, E.hide(), E.railslocked = !1), R.cantouch || E.istouchcapable || C.emulatetouch || R.hasmstouch) { E.scrollmom = new T(E); E.ontouchstart = function (o) { if (E.locked) return !1; if (o.pointerType && ("mouse" === o.pointerType || o.pointerType === o.MSPOINTER_TYPE_MOUSE)) return !1; if (E.hasmoving = !1, E.scrollmom.timer && (E.triggerScrollEnd(), E.scrollmom.stop()), !E.railslocked) { var r = E.getTarget(o); if (r) { var l = /INPUT/i.test(r.nodeName) && /range/i.test(r.type); if (l) return E.stopPropagation(o) } var t = "mousedown" === o.type; if (!("clientX" in o) && "changedTouches" in o && (o.clientX = o.changedTouches[0].clientX, o.clientY = o.changedTouches[0].clientY), E.forcescreen) { var s = o; o = { original: o.original ? o.original : o }, o.clientX = s.screenX, o.clientY = s.screenY } if (E.rail.drag = { x: o.clientX, y: o.clientY, sx: E.scroll.x, sy: E.scroll.y, st: E.getScrollTop(), sl: E.getScrollLeft(), pt: 2, dl: !1, tg: r }, E.ispage || !C.directionlockdeadzone) E.rail.drag.dl = "f"; else { var i = { w: h.width(), h: h.height() }, a = E.getContentSize(), n = a.h - i.h, d = a.w - i.w; E.rail.drag.ck = E.rail.scrollable && !E.railh.scrollable ? !!(0 < n) && "v" : !E.rail.scrollable && E.railh.scrollable && !!(0 < d) && "h" } if (C.emulatetouch && E.isiframe && R.isie) { var u = E.win.position(); E.rail.drag.x += u.left, E.rail.drag.y += u.top } if (E.hasmoving = !1, E.lastmouseup = !1, E.scrollmom.reset(o.clientX, o.clientY), r && t) { var p = /INPUT|SELECT|BUTTON|TEXTAREA/i.test(r.nodeName); if (!p) return R.hasmousecapture && r.setCapture(), C.emulatetouch ? (r.onclick && !r._onclick && 1 && (r._onclick = r.onclick, r.onclick = function (o) { return !E.hasmoving && void r._onclick.call(this, o) }), E.cancelEvent(o)) : E.stopPropagation(o); /SUBMIT|CANCEL|BUTTON/i.test(c(r).attr("type")) && (E.preventclick = { tg: r, click: !1 }) } } }, E.ontouchend = function (o) { if (!E.rail.drag) return !0; if (2 == E.rail.drag.pt) { if (o.pointerType && ("mouse" === o.pointerType || o.pointerType === o.MSPOINTER_TYPE_MOUSE)) return !1; E.rail.drag = !1; var e = "mouseup" === o.type; if (E.hasmoving && (E.scrollmom.doMomentum(), E.lastmouseup = !0, E.hideCursor(), R.hasmousecapture && i.releaseCapture(), e)) return E.cancelEvent(o) } else if (1 == E.rail.drag.pt) return E.onmouseup(o) }; var k = C.emulatetouch && E.isiframe && !R.hasmousecapture, P = 0 | .3 * C.directionlockdeadzone; E.ontouchmove = function (o, e) { if (!E.rail.drag) return !0; if (o.targetTouches && C.preventmultitouchscrolling && 1 < o.targetTouches.length) return !0; if (o.pointerType && ("mouse" === o.pointerType || o.pointerType === o.MSPOINTER_TYPE_MOUSE)) return !0; if (2 == E.rail.drag.pt) { "changedTouches" in o && (o.clientX = o.changedTouches[0].clientX, o.clientY = o.changedTouches[0].clientY); var r, l; if (l = r = 0, k && !e) { var t = E.win.position(); l = -t.left, r = -t.top } var s = o.clientY + r, a = s - E.rail.drag.y, n = o.clientX + l, c = n - E.rail.drag.x, d = E.rail.drag.st - a; if (E.ishwscroll && C.bouncescroll) 0 > d ? d = Math.round(d / 2) : d > E.page.maxh && (d = E.page.maxh + Math.round((d - E.page.maxh) / 2)); else if (0 > d ? (d = 0, s = 0) : d > E.page.maxh && (d = E.page.maxh, s = 0), 0 === s && !E.hasmoving) return E.ispage || (E.rail.drag = !1), !0; var u = E.getScrollLeft(); if (E.railh && E.railh.scrollable && (u = E.isrtlmode ? c - E.rail.drag.sl : E.rail.drag.sl - c, E.ishwscroll && C.bouncescroll ? 0 > u ? u = Math.round(u / 2) : u > E.page.maxw && (u = E.page.maxw + Math.round((u - E.page.maxw) / 2)) : (0 > u && (u = 0, n = 0), u > E.page.maxw && (u = E.page.maxw, n = 0))), !E.hasmoving) { if (E.rail.drag.y === o.clientY && E.rail.drag.x === o.clientX) return E.cancelEvent(o); var h = Math.abs(a), p = Math.abs(c), m = C.directionlockdeadzone; if (E.rail.drag.ck ? "v" == E.rail.drag.ck ? p > m && h <= P ? E.rail.drag = !1 : h > m && (E.rail.drag.dl = "v") : "h" == E.rail.drag.ck && (h > m && p <= P ? E.rail.drag = !1 : p > m && (E.rail.drag.dl = "h")) : h > m && p > m ? E.rail.drag.dl = "f" : h > m ? E.rail.drag.dl = p > P ? "f" : "v" : p > m && (E.rail.drag.dl = h > P ? "f" : "h"), !E.rail.drag.dl) return E.cancelEvent(o); E.triggerScrollStart(o.clientX, o.clientY, 0, 0, 0), E.hasmoving = !0 } return E.preventclick && !E.preventclick.click && (E.preventclick.click = E.preventclick.tg.onclick || !1, E.preventclick.tg.onclick = E.onpreventclick), E.rail.drag.dl && ("v" == E.rail.drag.dl ? u = E.rail.drag.sl : "h" == E.rail.drag.dl && (d = E.rail.drag.st)), E.synched("touchmove", function () { E.rail.drag && 2 == E.rail.drag.pt && (E.prepareTransition && E.resetTransition(), E.rail.scrollable && E.setScrollTop(d), E.scrollmom.update(n, s), E.railh && E.railh.scrollable ? (E.setScrollLeft(u), E.showCursor(d, u)) : E.showCursor(d), R.isie10 && i.selection.clear()) }), E.cancelEvent(o) } return 1 == E.rail.drag.pt ? E.onmousemove(o) : void 0 }, E.ontouchstartCursor = function (o, e) { if (!(E.rail.drag && 3 != E.rail.drag.pt)) { if (E.locked) return E.cancelEvent(o); E.cancelScroll(), E.rail.drag = { x: o.touches[0].clientX, y: o.touches[0].clientY, sx: E.scroll.x, sy: E.scroll.y, pt: 3, hr: !!e }; var r = E.getTarget(o); return !E.ispage && R.hasmousecapture && r.setCapture(), E.isiframe && !R.hasmousecapture && (E.saved.csspointerevents = E.doc.css("pointer-events"), E.css(E.doc, { "pointer-events": "none" })), E.cancelEvent(o) } }, E.ontouchendCursor = function (o) { if (E.rail.drag) return (R.hasmousecapture && i.releaseCapture(), E.isiframe && !R.hasmousecapture && E.doc.css("pointer-events", E.saved.csspointerevents), 3 != E.rail.drag.pt) ? void 0 : (E.rail.drag = !1, E.cancelEvent(o)) }, E.ontouchmoveCursor = function (o) { if (E.rail.drag) { if (3 != E.rail.drag.pt) return; if (E.cursorfreezed = !0, E.rail.drag.hr) { E.scroll.x = E.rail.drag.sx + (o.touches[0].clientX - E.rail.drag.x), 0 > E.scroll.x && (E.scroll.x = 0); var e = E.scrollvaluemaxw; E.scroll.x > e && (E.scroll.x = e) } else { E.scroll.y = E.rail.drag.sy + (o.touches[0].clientY - E.rail.drag.y), 0 > E.scroll.y && (E.scroll.y = 0); var r = E.scrollvaluemax; E.scroll.y > r && (E.scroll.y = r) } return E.synched("touchmove", function () { E.rail.drag && 3 == E.rail.drag.pt && (E.showCursor(), E.rail.drag.hr ? E.doScrollLeft(Math.round(E.scroll.x * E.scrollratio.x), C.cursordragspeed) : E.doScrollTop(Math.round(E.scroll.y * E.scrollratio.y), C.cursordragspeed)) }), E.cancelEvent(o) } } } if (E.onmousedown = function (o, e) { if (!(E.rail.drag && 1 != E.rail.drag.pt)) { if (E.railslocked) return E.cancelEvent(o); E.cancelScroll(), E.rail.drag = { x: o.clientX, y: o.clientY, sx: E.scroll.x, sy: E.scroll.y, pt: 1, hr: e || !1 }; var r = E.getTarget(o); return R.hasmousecapture && r.setCapture(), E.isiframe && !R.hasmousecapture && (E.saved.csspointerevents = E.doc.css("pointer-events"), E.css(E.doc, { "pointer-events": "none" })), E.hasmoving = !1, E.cancelEvent(o) } }, E.onmouseup = function (o) { if (E.rail.drag) return 1 != E.rail.drag.pt || (R.hasmousecapture && i.releaseCapture(), E.isiframe && !R.hasmousecapture && E.doc.css("pointer-events", E.saved.csspointerevents), E.rail.drag = !1, E.cursorfreezed = !1, E.hasmoving && E.triggerScrollEnd(), E.cancelEvent(o)) }, E.onmousemove = function (o) { if (E.rail.drag) { if (1 !== E.rail.drag.pt) return; if (R.ischrome && 0 === o.which) return E.onmouseup(o); if (E.cursorfreezed = !0, E.hasmoving || E.triggerScrollStart(o.clientX, o.clientY, 0, 0, 0), E.hasmoving = !0, E.rail.drag.hr) { E.scroll.x = E.rail.drag.sx + (o.clientX - E.rail.drag.x), 0 > E.scroll.x && (E.scroll.x = 0); var e = E.scrollvaluemaxw; E.scroll.x > e && (E.scroll.x = e) } else { E.scroll.y = E.rail.drag.sy + (o.clientY - E.rail.drag.y), 0 > E.scroll.y && (E.scroll.y = 0); var r = E.scrollvaluemax; E.scroll.y > r && (E.scroll.y = r) } return E.synched("mousemove", function () { E.cursorfreezed && (E.showCursor(), E.rail.drag.hr ? E.scrollLeft(Math.round(E.scroll.x * E.scrollratio.x)) : E.scrollTop(Math.round(E.scroll.y * E.scrollratio.y))) }), E.cancelEvent(o) } E.checkarea = 0 }, R.cantouch || C.emulatetouch) E.onpreventclick = function (o) { if (E.preventclick) return E.preventclick.tg.onclick = E.preventclick.click, E.preventclick = !1, E.cancelEvent(o) }, E.onclick = !R.isios && function (o) { return !E.lastmouseup || (E.lastmouseup = !1, E.cancelEvent(o)) }, C.grabcursorenabled && R.cursorgrabvalue && (E.css(E.ispage ? E.doc : E.win, { cursor: R.cursorgrabvalue }), E.css(E.rail, { cursor: R.cursorgrabvalue })); else { var M = function (o) { if (E.selectiondrag) { if (o) { var e = E.win.outerHeight(), r = o.pageY - E.selectiondrag.top; 0 < r && r < e && (r = 0), r >= e && (r -= e), E.selectiondrag.df = r } if (0 !== E.selectiondrag.df) { var l = 0 | -(2 * E.selectiondrag.df / 6); E.doScrollBy(l), E.debounced("doselectionscroll", function () { M() }, 50) } } }; E.hasTextSelected = "getSelection" in i ? function () { return 0 < i.getSelection().rangeCount } : "selection" in i ? function () { return "None" != i.selection.type } : function () { return !1 }, E.onselectionstart = function () { E.ispage || (E.selectiondrag = E.win.offset()) }, E.onselectionend = function () { E.selectiondrag = !1 }, E.onselectiondrag = function (o) { !E.selectiondrag || E.hasTextSelected() && E.debounced("selectionscroll", function () { M(o) }, 250) } } if (R.hasw3ctouch ? (E.css(E.ispage ? c("html") : E.win, { "touch-action": "none" }), E.css(E.rail, { "touch-action": "none" }), E.css(E.cursor, { "touch-action": "none" }), E.bind(E.win, "pointerdown", E.ontouchstart), E.bind(i, "pointerup", E.ontouchend), E.delegate(i, "pointermove", E.ontouchmove)) : R.hasmstouch ? (E.css(E.ispage ? c("html") : E.win, { "-ms-touch-action": "none" }), E.css(E.rail, { "-ms-touch-action": "none" }), E.css(E.cursor, { "-ms-touch-action": "none" }), E.bind(E.win, "MSPointerDown", E.ontouchstart), E.bind(i, "MSPointerUp", E.ontouchend), E.delegate(i, "MSPointerMove", E.ontouchmove), E.bind(E.cursor, "MSGestureHold", function (o) { o.preventDefault() }), E.bind(E.cursor, "contextmenu", function (o) { o.preventDefault() })) : R.cantouch && (E.bind(E.win, "touchstart", E.ontouchstart, !1, !0), E.bind(i, "touchend", E.ontouchend, !1, !0), E.bind(i, "touchcancel", E.ontouchend, !1, !0), E.delegate(i, "touchmove", E.ontouchmove, !1, !0)), C.emulatetouch && (E.bind(E.win, "mousedown", E.ontouchstart, !1, !0), E.bind(i, "mouseup", E.ontouchend, !1, !0), E.bind(i, "mousemove", E.ontouchmove, !1, !0)), !C.cursordragontouch && (R.cantouch || C.emulatetouch) || (E.rail.css({ cursor: "default" }), E.railh && E.railh.css({ cursor: "default" }), E.jqbind(E.rail, "mouseenter", function () { return !!(E.ispage || E.win.is(":visible")) && void (E.canshowonmouseevent && E.showCursor(), E.rail.active = !0) }), E.jqbind(E.rail, "mouseleave", function () { E.rail.active = !1, E.rail.drag || E.hideCursor() }), C.sensitiverail && (E.bind(E.rail, "click", function (o) { E.doRailClick(o, !1, !1) }), E.bind(E.rail, "dblclick", function (o) { E.doRailClick(o, !0, !1) }), E.bind(E.cursor, "click", function (o) { E.cancelEvent(o) }), E.bind(E.cursor, "dblclick", function (o) { E.cancelEvent(o) })), E.railh && (E.jqbind(E.railh, "mouseenter", function () { return !!(E.ispage || E.win.is(":visible")) && void (E.canshowonmouseevent && E.showCursor(), E.rail.active = !0) }), E.jqbind(E.railh, "mouseleave", function () { E.rail.active = !1, E.rail.drag || E.hideCursor() }), C.sensitiverail && (E.bind(E.railh, "click", function (o) { E.doRailClick(o, !1, !0) }), E.bind(E.railh, "dblclick", function (o) { E.doRailClick(o, !0, !0) }), E.bind(E.cursorh, "click", function (o) { E.cancelEvent(o) }), E.bind(E.cursorh, "dblclick", function (o) { E.cancelEvent(o) })))), C.cursordragontouch && (this.istouchcapable || R.cantouch) && (E.bind(E.cursor, "touchstart", E.ontouchstartCursor), E.bind(E.cursor, "touchmove", E.ontouchmoveCursor), E.bind(E.cursor, "touchend", E.ontouchendCursor), E.cursorh && E.bind(E.cursorh, "touchstart", function (o) { E.ontouchstartCursor(o, !0) }), E.cursorh && E.bind(E.cursorh, "touchmove", E.ontouchmoveCursor), E.cursorh && E.bind(E.cursorh, "touchend", E.ontouchendCursor)), C.emulatetouch || R.isandroid || R.isios ? (E.bind(R.hasmousecapture ? E.win : i, "mouseup", E.ontouchend), E.onclick && E.bind(i, "click", E.onclick), C.cursordragontouch ? (E.bind(E.cursor, "mousedown", E.onmousedown), E.bind(E.cursor, "mouseup", E.onmouseup), E.cursorh && E.bind(E.cursorh, "mousedown", function (o) { E.onmousedown(o, !0) }), E.cursorh && E.bind(E.cursorh, "mouseup", E.onmouseup)) : (E.bind(E.rail, "mousedown", function (o) { o.preventDefault() }), E.railh && E.bind(E.railh, "mousedown", function (o) { o.preventDefault() }))) : (E.bind(R.hasmousecapture ? E.win : i, "mouseup", E.onmouseup), E.bind(i, "mousemove", E.onmousemove), E.onclick && E.bind(i, "click", E.onclick), E.bind(E.cursor, "mousedown", E.onmousedown), E.bind(E.cursor, "mouseup", E.onmouseup), E.railh && (E.bind(E.cursorh, "mousedown", function (o) { E.onmousedown(o, !0) }), E.bind(E.cursorh, "mouseup", E.onmouseup)), !E.ispage && C.enablescrollonselection && (E.bind(E.win[0], "mousedown", E.onselectionstart), E.bind(i, "mouseup", E.onselectionend), E.bind(E.cursor, "mouseup", E.onselectionend), E.cursorh && E.bind(E.cursorh, "mouseup", E.onselectionend), E.bind(i, "mousemove", E.onselectiondrag)), E.zoom && (E.jqbind(E.zoom, "mouseenter", function () { E.canshowonmouseevent && E.showCursor(), E.rail.active = !0 }), E.jqbind(E.zoom, "mouseleave", function () { E.rail.active = !1, E.rail.drag || E.hideCursor() }))), C.enablemousewheel && (!E.isiframe && E.mousewheel(R.isie && E.ispage ? i : E.win, E.onmousewheel), E.mousewheel(E.rail, E.onmousewheel), E.railh && E.mousewheel(E.railh, E.onmousewheelhr)), E.ispage || R.cantouch || /HTML|^BODY/.test(E.win[0].nodeName) || (!E.win.attr("tabindex") && E.win.attr({ tabindex: ++l }), E.bind(E.win, "focus", function (r) { o = E.getTarget(r).id || E.getTarget(r) || !1, E.hasfocus = !0, E.canshowonmouseevent && E.noticeCursor() }), E.bind(E.win, "blur", function () { o = !1, E.hasfocus = !1 }), E.bind(E.win, "mouseenter", function (o) { r = E.getTarget(o).id || E.getTarget(o) || !1, E.hasmousefocus = !0, E.canshowonmouseevent && E.noticeCursor() }), E.bind(E.win, "mouseleave", function () { r = !1, E.hasmousefocus = !1, E.rail.drag || E.hideCursor() })), E.onkeypress = function (l) { if (E.railslocked && 0 === E.page.maxh) return !0; l = l || u.event; var t = E.getTarget(l); if (t && /INPUT|TEXTAREA|SELECT|OPTION/.test(t.nodeName)) { var s = t.getAttribute("type") || t.type || !1; if (!s || !/submit|button|cancel/i.tp) return !0 } if (c(t).attr("contenteditable")) return !0; if (E.hasfocus || E.hasmousefocus && !o || E.ispage && !o && !r) { var i = l.keyCode; if (E.railslocked && 27 != i) return E.cancelEvent(l); var a = l.ctrlKey || !1, n = l.shiftKey || !1, d = !1; if (38 === i || 63233 === i ? (E.doScrollBy(72), d = !0) : 40 === i || 63235 === i ? (E.doScrollBy(-72), d = !0) : 37 === i || 63232 === i ? E.railh && (a ? E.doScrollLeft(0) : E.doScrollLeftBy(72), d = !0) : 39 === i || 63234 === i ? E.railh && (a ? E.doScrollLeft(E.page.maxw) : E.doScrollLeftBy(-72), d = !0) : 33 === i || 63276 === i ? (E.doScrollBy(E.view.h), d = !0) : 34 === i || 63277 === i ? (E.doScrollBy(-E.view.h), d = !0) : 36 === i || 63273 === i ? (E.railh && a ? E.doScrollPos(0, 0) : E.doScrollTo(0), d = !0) : 35 === i || 63275 === i ? (E.railh && a ? E.doScrollPos(E.page.maxw, E.page.maxh) : E.doScrollTo(E.page.maxh), d = !0) : 32 === i ? C.spacebarenabled && (n ? E.doScrollBy(E.view.h) : E.doScrollBy(-E.view.h), d = !0) : 27 === i ? E.zoomactive && (E.doZoom(), d = !0) : void 0, d) return E.cancelEvent(l) } }, C.enablekeyboard && E.bind(i, R.isopera && !R.isopera12 ? "keypress" : "keydown", E.onkeypress), E.bind(i, "keydown", function (o) { var e = o.ctrlKey || !1; e && (E.wheelprevented = !0) }), E.bind(i, "keyup", function (o) { var e = o.ctrlKey || !1; e || (E.wheelprevented = !1) }), E.bind(u, "blur", function () { E.wheelprevented = !1 }), E.bind(u, "resize", E.onscreenresize), E.bind(u, "orientationchange", E.onscreenresize), E.bind(u, "load", E.lazyResize), R.ischrome && !E.ispage && !E.haswrapper) { var _ = E.win.attr("style"), N = parseFloat(E.win.css("width")) + 1; E.win.css("width", N), E.synched("chromefix", function () { E.win.attr("style", _) }) } if (E.onAttributeChange = function () { E.lazyResize(E.isieold ? 250 : 30) }, C.enableobserver && (E.isie11 || !1 === y || (E.observerbody = new y(function (e) { if (e.forEach(function (e) { if ("attributes" == e.type) return L.hasClass("modal-open") && L.hasClass("modal-dialog") && !c.contains(c(".modal-dialog")[0], E.doc[0]) ? E.hide() : E.show() }), E.me.clientWidth != E.page.width || E.me.clientHeight != E.page.height) return E.lazyResize(30) }), E.observerbody.observe(i.body, { childList: !0, subtree: !0, characterData: !1, attributes: !0, attributeFilter: ["class"] })), !E.ispage && !E.haswrapper)) { var Y = E.win[0]; !1 === y ? (E.bind(Y, R.isie && !R.isie9 ? "propertychange" : "DOMAttrModified", E.onAttributeChange), R.isie9 && Y.attachEvent("onpropertychange", E.onAttributeChange), E.bind(Y, "DOMNodeRemoved", function (o) { o.target === Y && E.remove() })) : (E.observer = new y(function (e) { e.forEach(E.onAttributeChange) }), E.observer.observe(Y, { childList: !0, characterData: !1, attributes: !0, subtree: !1 }), E.observerremover = new y(function (e) { e.forEach(function (e) { if (0 < e.removedNodes.length) for (var o in e.removedNodes) if (!!E && e.removedNodes[o] === Y) return E.remove() }) }), E.observerremover.observe(Y.parentNode, { childList: !0, characterData: !1, attributes: !1, subtree: !1 })) } !E.ispage && C.boxzoom && E.bind(u, "resize", E.resizeZoom), E.istextarea && (E.bind(E.win, "keydown", E.lazyResize), E.bind(E.win, "mouseup", E.lazyResize)), E.lazyResize(30) } if ("IFRAME" == this.doc[0].nodeName) { var X = function () { E.iframexd = !1; var o; try { o = "contentDocument" in this ? this.contentDocument : this.contentWindow._doc; o.domain } catch (r) { E.iframexd = !0, o = !1 } if (E.iframexd) return "console" in u && console.log("NiceScroll error: policy restriced iframe"), !0; if (E.forcescreen = !0, E.isiframe && (E.iframe = { doc: c(o), html: E.doc.contents().find("html")[0], body: E.doc.contents().find("body")[0] }, E.getContentSize = function () { return { w: Math.max(E.iframe.html.scrollWidth, E.iframe.body.scrollWidth), h: Math.max(E.iframe.html.scrollHeight, E.iframe.body.scrollHeight) } }, E.docscroll = c(E.iframe.body)), !R.isios && C.iframeautoresize && !E.isiframe) { E.win.scrollTop(0), E.doc.height(""); var r = Math.max(o.getElementsByTagName("html")[0].scrollHeight, o.body.scrollHeight); E.doc.height(r) } E.lazyResize(30), E.css(c(E.iframe.body), e), R.isios && E.haswrapper && E.css(c(o.body), { "-webkit-transform": "translate3d(0,0,0)" }), "contentWindow" in this ? E.bind(this.contentWindow, "scroll", E.onscroll) : E.bind(o, "scroll", E.onscroll), C.enablemousewheel && E.mousewheel(o, E.onmousewheel), C.enablekeyboard && E.bind(o, R.isopera ? "keypress" : "keydown", E.onkeypress), R.cantouch ? (E.bind(o, "touchstart", E.ontouchstart), E.bind(o, "touchmove", E.ontouchmove)) : C.emulatetouch && (E.bind(o, "mousedown", E.ontouchstart), E.bind(o, "mousemove", function (o) { return E.ontouchmove(o, !0) }), C.grabcursorenabled && R.cursorgrabvalue && E.css(c(o.body), { cursor: R.cursorgrabvalue })), E.bind(o, "mouseup", E.ontouchend), E.zoom && (C.dblclickzoom && E.bind(o, "dblclick", E.doZoom), E.ongesturezoom && E.bind(o, "gestureend", E.ongesturezoom)) }; this.doc[0].readyState && "complete" === this.doc[0].readyState && setTimeout(function () { X.call(E.doc[0], !1) }, 500), E.bind(this.doc, "load", X) } }, this.showCursor = function (e, o) { if (E.cursortimeout && (clearTimeout(E.cursortimeout), E.cursortimeout = 0), !!E.rail) { if (E.autohidedom && (E.autohidedom.stop().css({ opacity: C.cursoropacitymax }), E.cursoractive = !0), E.rail.drag && 1 == E.rail.drag.pt || (void 0 !== e && !1 !== e && (E.scroll.y = 0 | e / E.scrollratio.y), void 0 !== o && (E.scroll.x = 0 | o / E.scrollratio.x)), E.cursor.css({ height: E.cursorheight, top: E.scroll.y }), E.cursorh) { var r = E.hasreversehr ? E.scrollvaluemaxw - E.scroll.x : E.scroll.x; E.cursorh.css({ width: E.cursorwidth, left: !E.rail.align && E.rail.visibility ? r + E.rail.width : r }), E.cursoractive = !0 } E.zoom && E.zoom.stop().css({ opacity: C.cursoropacitymax }) } }, this.hideCursor = function (e) { E.cursortimeout || !E.rail || !E.autohidedom || E.hasmousefocus && "leave" === C.autohidemode || (E.cursortimeout = setTimeout(function () { E.rail.active && E.showonmouseevent || (E.autohidedom.stop().animate({ opacity: C.cursoropacitymin }), E.zoom && E.zoom.stop().animate({ opacity: C.cursoropacitymin }), E.cursoractive = !1), E.cursortimeout = 0 }, e || C.hidecursordelay)) }, this.noticeCursor = function (e, o, r) { E.showCursor(o, r), E.rail.active || E.hideCursor(e) }, this.getContentSize = E.ispage ? function () { return { w: Math.max(i.body.scrollWidth, i.documentElement.scrollWidth), h: Math.max(i.body.scrollHeight, i.documentElement.scrollHeight) } } : E.haswrapper ? function () { return { w: E.doc[0].offsetWidth, h: E.doc[0].offsetHeight } } : function () { return { w: E.docscroll[0].scrollWidth, h: E.docscroll[0].scrollHeight } }, this.onResize = function (o, e) { if (!E || !E.win) return !1; var r = E.page.maxh, l = E.page.maxw, t = E.view.h, s = E.view.w; if (E.view = { w: E.ispage ? E.win.width() : E.win[0].clientWidth, h: E.ispage ? E.win.height() : E.win[0].clientHeight }, E.page = e ? e : E.getContentSize(), E.page.maxh = Math.max(0, E.page.h - E.view.h), E.page.maxw = Math.max(0, E.page.w - E.view.w), E.page.maxh == r && E.page.maxw == l && E.view.w == s && E.view.h == t) if (!E.ispage) { var i = E.win.offset(); if (E.lastposition) { var a = E.lastposition; if (a.top == i.top && a.left == i.left) return E } E.lastposition = i } else return E; if (0 === E.page.maxh ? (E.hideRail(), E.scrollvaluemax = 0, E.scroll.y = 0, E.scrollratio.y = 0, E.cursorheight = 0, E.setScrollTop(0), E.rail && (E.rail.scrollable = !1)) : (E.page.maxh -= C.railpadding.top + C.railpadding.bottom, E.rail.scrollable = !0), 0 === E.page.maxw ? (E.hideRailHr(), E.scrollvaluemaxw = 0, E.scroll.x = 0, E.scrollratio.x = 0, E.cursorwidth = 0, E.setScrollLeft(0), E.railh && (E.railh.scrollable = !1)) : (E.page.maxw -= C.railpadding.left + C.railpadding.right, E.railh && (E.railh.scrollable = C.horizrailenabled)), E.railslocked = E.locked || 0 === E.page.maxh && 0 === E.page.maxw, E.railslocked) return E.ispage || E.updateScrollBar(E.view), !1; E.hidden || (!E.rail.visibility && E.showRail(), E.railh && !E.railh.visibility && E.showRailHr()), E.istextarea && E.win.css("resize") && "none" != E.win.css("resize") && (E.view.h -= 20), E.cursorheight = Math.min(E.view.h, Math.round(E.view.h * (E.view.h / E.page.h))), E.cursorheight = C.cursorfixedheight ? C.cursorfixedheight : Math.max(C.cursorminheight, E.cursorheight), E.cursorwidth = Math.min(E.view.w, Math.round(E.view.w * (E.view.w / E.page.w))), E.cursorwidth = C.cursorfixedheight ? C.cursorfixedheight : Math.max(C.cursorminheight, E.cursorwidth), E.scrollvaluemax = E.view.h - E.cursorheight - (C.railpadding.top + C.railpadding.bottom), E.hasborderbox || (E.scrollvaluemax -= E.cursor[0].offsetHeight - E.cursor[0].clientHeight), E.railh && (E.railh.width = 0 < E.page.maxh ? E.view.w - E.rail.width : E.view.w, E.scrollvaluemaxw = E.railh.width - E.cursorwidth - (C.railpadding.left + C.railpadding.right)), E.ispage || E.updateScrollBar(E.view), E.scrollratio = { x: E.page.maxw / E.scrollvaluemaxw, y: E.page.maxh / E.scrollvaluemax }; var n = E.getScrollTop(); return n > E.page.maxh ? E.doScrollTop(E.page.maxh) : (E.scroll.y = 0 | E.getScrollTop() / E.scrollratio.y, E.scroll.x = 0 | E.getScrollLeft() / E.scrollratio.x, E.cursoractive && E.noticeCursor()), E.scroll.y && 0 === E.getScrollTop() && E.doScrollTo(0 | E.scroll.y * E.scrollratio.y), E }, this.resize = E.onResize; var X = 0; this.onscreenresize = function () { clearTimeout(X); var e = !E.ispage && !E.haswrapper; e && E.hideRails(), X = setTimeout(function () { E && (e && E.showRails(), E.resize()), X = 0 }, 120) }, this.lazyResize = function (e) { return clearTimeout(X), e = isNaN(e) ? 240 : e, X = setTimeout(function () { E && E.resize(), X = 0 }, e), E }, this.jqbind = function (e, o, r) { E.events.push({ e: e, n: o, f: r, q: !0 }), c(e).on(o, r) }, this.mousewheel = function (e, o, r) { var l = "jquery" in e ? e[0] : e; if ("onwheel" in i.createElement("div")) E._bind(l, "wheel", o, r || !1); else { var t = void 0 === i.onmousewheel ? "DOMMouseScroll" : "mousewheel"; v(l, t, o, r || !1), "DOMMouseScroll" == t && v(l, "MozMousePixelScroll", o, r || !1) } }; var H = !1; if (R.haseventlistener) { try { var B = Object.defineProperty({}, "passive", { get: function () { H = !0 } }); u.addEventListener("test", null, B) } catch (e) { } this.stopPropagation = function (o) { return !!o && (o = o.original ? o.original : o, o.stopPropagation(), !1) }, this.cancelEvent = function (o) { return o.cancelable && o.preventDefault(), o.stopImmediatePropagation(), o.preventManipulation && o.preventManipulation(), !1 } } else Event.prototype.preventDefault = function () { this.returnValue = !1 }, Event.prototype.stopPropagation = function () { this.cancelBubble = !0 }, u.constructor.prototype.addEventListener = i.constructor.prototype.addEventListener = Element.prototype.addEventListener = function (e, o) { this.attachEvent("on" + e, o) }, u.constructor.prototype.removeEventListener = i.constructor.prototype.removeEventListener = Element.prototype.removeEventListener = function (e, o) { this.detachEvent("on" + e, o) }, this.cancelEvent = function (o) { return o = o || u.event, o && (o.cancelBubble = !0, o.cancel = !0, o.returnValue = !1), !1 }, this.stopPropagation = function (o) { return o = o || u.event, o && (o.cancelBubble = !0), !1 }; this.delegate = function (e, o, r, l, t) { var s = p[o] || !1; s || (s = { a: [], l: [], f: function (o) { for (var e = s.l, t = e.length - 1, l = !1, i = t; 0 <= i; i--)if (l = e[i].call(o.target, o), !1 === l) return !1; return l } }, E.bind(e, o, s.f, l, t), p[o] = s), E.ispage ? (s.a = [E.id].concat(s.a), s.l = [r].concat(s.l)) : (s.a.push(E.id), s.l.push(r)) }, this.undelegate = function (e, o) { var r = p[o] || !1; if (r && r.l) for (var t = 0, s = r.l.length; t < s; t++)r.a[t] === E.id && (r.a.splice(t), r.l.splice(t), 0 === r.a.length && (E._unbind(e, o, r.l.f), p[o] = null)) }, this.bind = function (e, o, r, l, t) { var s = "jquery" in e ? e[0] : e; E._bind(s, o, r, l || !1, t || !1) }, this._bind = function (e, o, r, l, t) { E.events.push({ e: e, n: o, f: r, b: l, q: !1 }), H && (t || e == window.document || e == window.document.body || e == window) ? e.addEventListener(o, r, { passive: !1, capture: l }) : e.addEventListener(o, r, l || !1) }, this._unbind = function (e, o, r, l) { p[o] ? E.undelegate(e, o, r, l) : e.removeEventListener(o, r, l) }, this.unbindAll = function () { for (var e, o = 0; o < E.events.length; o++)e = E.events[o], e.q ? e.e.unbind(e.n, e.f) : E._unbind(e.e, e.n, e.f, e.b) }, this.showRails = function () { return E.showRail().showRailHr() }, this.showRail = function () { return 0 !== E.page.maxh && (E.ispage || "none" != E.win.css("display")) && (E.rail.visibility = !0, E.rail.css("display", "block")), E }, this.showRailHr = function () { return E.railh && 0 !== E.page.maxw && (E.ispage || "none" != E.win.css("display")) && (E.railh.visibility = !0, E.railh.css("display", "block")), E }, this.hideRails = function () { return E.hideRail().hideRailHr() }, this.hideRail = function () { return E.rail.visibility = !1, E.rail.css("display", "none"), E }, this.hideRailHr = function () { return E.railh && (E.railh.visibility = !1, E.railh.css("display", "none")), E }, this.show = function () { return E.hidden = !1, E.railslocked = !1, E.showRails() }, this.hide = function () { return E.hidden = !0, E.railslocked = !0, E.hideRails() }, this.toggle = function () { return E.hidden ? E.show() : E.hide() }, this.remove = function () { for (var e in E.stop(), E.cursortimeout && clearTimeout(E.cursortimeout), E.delaylist) E.delaylist[e] && w(E.delaylist[e].h); E.doZoomOut(), E.unbindAll(), R.isie9 && E.win[0].detachEvent("onpropertychange", E.onAttributeChange), !1 !== E.observer && E.observer.disconnect(), !1 !== E.observerremover && E.observerremover.disconnect(), !1 !== E.observerbody && E.observerbody.disconnect(), E.events = null, E.cursor && E.cursor.remove(), E.cursorh && E.cursorh.remove(), E.rail && E.rail.remove(), E.railh && E.railh.remove(), E.zoom && E.zoom.remove(); for (var o, r = 0; r < E.saved.css.length; r++)o = E.saved.css[r], o[0].css(o[1], void 0 === o[2] ? "" : o[2]); E.saved = !1, E.me.data("__nicescroll", ""); var l = c.nicescroll; for (var t in l.each(function (e) { if (this && this.id === E.id) { delete l[e]; for (var o = ++e; o < l.length; o++, e++)l[e] = l[o]; l.length--, l.length && delete l[l.length] } }), E) E[t] = null, delete E[t]; E = null }, this.scrollstart = function (e) { return this.onscrollstart = e, E }, this.scrollend = function (e) { return this.onscrollend = e, E }, this.scrollcancel = function (e) { return this.onscrollcancel = e, E }, this.zoomin = function (e) { return this.onzoomin = e, E }, this.zoomout = function (e) { return this.onzoomout = e, E }, this.isScrollable = function (o) { var e = o.target ? o.target : o; if ("OPTION" == e.nodeName) return !0; for (; e && 1 == e.nodeType && e !== this.me[0] && !/^BODY|HTML/.test(e.nodeName);) { var r = c(e), l = r.css("overflowY") || r.css("overflowX") || r.css("overflow") || ""; if (/scroll|auto/.test(l)) return e.clientHeight != e.scrollHeight; e = !!e.parentNode && e.parentNode } return !1 }, this.getViewport = function (e) { for (var o, r = !!(e && e.parentNode) && e.parentNode; r && 1 == r.nodeType && !/^BODY|HTML/.test(r.nodeName);) { if (o = c(r), /fixed|absolute/.test(o.css("position"))) return o; var l = o.css("overflowY") || o.css("overflowX") || o.css("overflow") || ""; if (/scroll|auto/.test(l) && r.clientHeight != r.scrollHeight) return o; if (0 < o.getNiceScroll().length) return o; r = !!r.parentNode && r.parentNode } return !1 }, this.triggerScrollStart = function (e, o, r, l, t) { if (E.onscrollstart) { var s = { type: "scrollstart", current: { x: e, y: o }, request: { x: r, y: l }, end: { x: E.newscrollx, y: E.newscrolly }, speed: t }; E.onscrollstart.call(E, s) } }, this.triggerScrollEnd = function () { if (E.onscrollend) { var e = E.getScrollLeft(), o = E.getScrollTop(); E.onscrollend.call(E, { type: "scrollend", current: { x: e, y: o }, end: { x: e, y: o } }) } }; var I = 0, O = 0, D = 0, A = 1, q = !1; if (this.onmousewheel = function (o) { if (E.wheelprevented || E.locked) return !1; if (E.railslocked) return E.debounced("checkunlock", E.resize, 250), !1; if (E.rail.drag) return E.cancelEvent(o); if ("auto" === C.oneaxismousemode && 0 !== o.deltaX && (C.oneaxismousemode = !1), C.oneaxismousemode && 0 === o.deltaX && !E.rail.scrollable) return !(E.railh && E.railh.scrollable) || E.onmousewheelhr(o); var e = f(), r = !1; if (C.preservenativescrolling && E.checkarea + 600 < e && (E.nativescrollingarea = E.isScrollable(o), r = !0), E.checkarea = e, E.nativescrollingarea) return !0; var l = k(o, !1, r); return l && (E.checkarea = 0), l }, this.onmousewheelhr = function (o) { if (!E.wheelprevented) { if (E.railslocked || !E.railh.scrollable) return !0; if (E.rail.drag) return E.cancelEvent(o); var e = f(), r = !1; return C.preservenativescrolling && E.checkarea + 600 < e && (E.nativescrollingarea = E.isScrollable(o), r = !0), E.checkarea = e, !!E.nativescrollingarea || (E.railslocked ? E.cancelEvent(o) : k(o, !0, r)) } }, this.stop = function () { return E.cancelScroll(), E.scrollmon && E.scrollmon.stop(), E.cursorfreezed = !1, E.scroll.y = Math.round(E.getScrollTop() * (1 / E.scrollratio.y)), E.noticeCursor(), E }, this.getTransitionSpeed = function (e) { return 0 | 80 + e / 72 * C.scrollspeed }, !C.smoothscroll) this.doScrollLeft = function (e, o) { var r = E.getScrollTop(); E.doScrollPos(e, r, o) }, this.doScrollTop = function (e, o) { var r = E.getScrollLeft(); E.doScrollPos(r, e, o) }, this.doScrollPos = function (e, o) { var r = e > E.page.maxw ? E.page.maxw : e; 0 > r && (r = 0); var l = o > E.page.maxh ? E.page.maxh : o; 0 > l && (l = 0), E.synched("scroll", function () { E.setScrollTop(l), E.setScrollLeft(r) }) }, this.cancelScroll = function () { }; else if (E.ishwscroll && R.hastransition && C.usetransition && !!C.smoothscroll) { var j = ""; this.resetTransition = function () { j = "", E.doc.css(R.prefixstyle + "transition-duration", "0ms") }, this.prepareTransition = function (e, o) { var r = o ? e : E.getTransitionSpeed(e), l = r + "ms"; return j !== l && (j = l, E.doc.css(R.prefixstyle + "transition-duration", l)), r }, this.doScrollLeft = function (e, o) { var r = E.scrollrunning ? E.newscrolly : E.getScrollTop(); E.doScrollPos(e, r, o) }, this.doScrollTop = function (e, o) { var r = E.scrollrunning ? E.newscrollx : E.getScrollLeft(); E.doScrollPos(r, e, o) }, this.cursorupdate = { running: !1, start: function () { var e = this; if (!e.running) { e.running = !0; var o = function () { e.running && g(o), E.showCursor(E.getScrollTop(), E.getScrollLeft()), E.notifyScrollEvent(E.win[0]) }; g(o) } }, stop: function () { this.running = !1 } }, this.doScrollPos = function (e, o) { var r = E.getScrollTop(), l = E.getScrollLeft(); if ((0 > (E.newscrolly - r) * (o - r) || 0 > (E.newscrollx - l) * (e - l)) && E.cancelScroll(), C.bouncescroll ? (0 > o ? o = 0 | o / 2 : o > E.page.maxh && (o = 0 | E.page.maxh + (o - E.page.maxh) / 2), 0 > e ? e = 0 | e / 2 : e > E.page.maxw && (e = 0 | E.page.maxw + (e - E.page.maxw) / 2)) : (0 > o ? o = 0 : o > E.page.maxh && (o = E.page.maxh), 0 > e ? e = 0 : e > E.page.maxw && (e = E.page.maxw)), E.scrollrunning && e == E.newscrollx && o == E.newscrolly) return !1; E.newscrolly = o, E.newscrollx = e; var t = E.getScrollTop(), s = E.getScrollLeft(), i = {}; i.x = e - s, i.y = o - t; var a = 0 | Math.sqrt(i.x * i.x + i.y * i.y), n = E.prepareTransition(a); E.scrollrunning || (E.scrollrunning = !0, E.triggerScrollStart(s, t, e, o, n), E.cursorupdate.start()), E.scrollendtrapped = !0, R.transitionend || (E.scrollendtrapped && clearTimeout(E.scrollendtrapped), E.scrollendtrapped = setTimeout(E.onScrollTransitionEnd, n)), E.setScrollTop(E.newscrolly), E.setScrollLeft(E.newscrollx) }, this.cancelScroll = function () { if (!E.scrollendtrapped) return !0; var e = E.getScrollTop(), o = E.getScrollLeft(); return E.scrollrunning = !1, R.transitionend || clearTimeout(R.transitionend), E.scrollendtrapped = !1, E.resetTransition(), E.setScrollTop(e), E.railh && E.setScrollLeft(o), E.timerscroll && E.timerscroll.tm && clearInterval(E.timerscroll.tm), E.timerscroll = !1, E.cursorfreezed = !1, E.cursorupdate.stop(), E.showCursor(e, o), E }, this.onScrollTransitionEnd = function () { if (E.scrollendtrapped) { var e = E.getScrollTop(), o = E.getScrollLeft(); return 0 > e ? e = 0 : e > E.page.maxh && (e = E.page.maxh), 0 > o ? o = 0 : o > E.page.maxw && (o = E.page.maxw), e != E.newscrolly || o != E.newscrollx ? E.doScrollPos(o, e, C.snapbackspeed) : void (E.scrollrunning && E.triggerScrollEnd(), E.scrollrunning = !1, E.scrollendtrapped = !1, E.resetTransition(), E.timerscroll = !1, E.setScrollTop(e), E.railh && E.setScrollLeft(o), E.cursorupdate.stop(), E.noticeCursor(!1, e, o), E.cursorfreezed = !1) } } } else this.doScrollLeft = function (e, o) { var r = E.scrollrunning ? E.newscrolly : E.getScrollTop(); E.doScrollPos(e, r, o) }, this.doScrollTop = function (e, o) { var r = E.scrollrunning ? E.newscrollx : E.getScrollLeft(); E.doScrollPos(r, e, o) }, this.doScrollPos = function (e, o) { var r = E.getScrollTop(), l = E.getScrollLeft(); (0 > (E.newscrolly - r) * (o - r) || 0 > (E.newscrollx - l) * (e - l)) && E.cancelScroll(); var t = !1; if (E.bouncescroll && E.rail.visibility || (0 > o ? (o = 0, t = !0) : o > E.page.maxh && (o = E.page.maxh, t = !0)), E.bouncescroll && E.railh.visibility || (0 > e ? (e = 0, t = !0) : e > E.page.maxw && (e = E.page.maxw, t = !0)), E.scrollrunning && E.newscrolly === o && E.newscrollx === e) return !0; E.newscrolly = o, E.newscrollx = e, E.dst = {}, E.dst.x = e - l, E.dst.y = o - r, E.dst.px = l, E.dst.py = r; var s = 0 | Math.sqrt(E.dst.x * E.dst.x + E.dst.y * E.dst.y), i = E.getTransitionSpeed(s); E.bzscroll = {}; var a = t ? 1 : .58; E.bzscroll.x = new _(l, E.newscrollx, i, 0, 0, a, 1), E.bzscroll.y = new _(r, E.newscrolly, i, 0, 0, a, 1); var n = f(), c = function () { if (E.scrollrunning) { var e = E.bzscroll.y.getPos(); E.setScrollLeft(E.bzscroll.x.getNow()), E.setScrollTop(E.bzscroll.y.getNow()), 1 >= e ? E.timer = g(c) : (E.scrollrunning = !1, E.timer = 0, E.triggerScrollEnd()) } }; E.scrollrunning || (E.triggerScrollStart(l, r, e, o, i), E.scrollrunning = !0, E.timer = g(c)) }, this.cancelScroll = function () { return E.timer && w(E.timer), E.timer = 0, E.bzscroll = !1, E.scrollrunning = !1, E }; this.doScrollBy = function (e) { S(0, e) }, this.doScrollLeftBy = function (e) { S(e, 0) }, this.doScrollTo = function (e, o) { var r = o ? Math.round(e * E.scrollratio.y) : e; 0 > r ? r = 0 : r > E.page.maxh && (r = E.page.maxh), E.cursorfreezed = !1, E.doScrollTop(e) }, this.checkContentSize = function () { var e = E.getContentSize(); (e.h != E.page.h || e.w != E.page.w) && E.resize(!1, e) }, E.onscroll = function () { E.rail.drag || !E.cursorfreezed && E.synched("scroll", function () { E.scroll.y = Math.round(E.getScrollTop() / E.scrollratio.y), E.railh && (E.scroll.x = Math.round(E.getScrollLeft() / E.scrollratio.x)), E.noticeCursor() }) }, E.bind(E.docscroll, "scroll", E.onscroll), this.doZoomIn = function (o) { if (!E.zoomactive) { E.zoomactive = !0, E.zoomrestore = { style: {} }; var e = ["position", "top", "left", "zIndex", "backgroundColor", "marginTop", "marginBottom", "marginLeft", "marginRight"], r = E.win[0].style; for (var l in e) { var t = e[l]; E.zoomrestore.style[t] = void 0 === r[t] ? "" : r[t] } E.zoomrestore.style.width = E.win.css("width"), E.zoomrestore.style.height = E.win.css("height"), E.zoomrestore.padding = { w: E.win.outerWidth() - E.win.width(), h: E.win.outerHeight() - E.win.height() }, R.isios4 && (E.zoomrestore.scrollTop = h.scrollTop(), h.scrollTop(0)), E.win.css({ position: R.isios4 ? "absolute" : "fixed", top: 0, left: 0, zIndex: s + 100, margin: 0 }); var i = E.win.css("backgroundColor"); return ("" === i || /transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i)) && E.win.css("backgroundColor", "#fff"), E.rail.css({ zIndex: s + 101 }), E.zoom.css({ zIndex: s + 102 }), E.zoom.css("backgroundPosition", "0 -18px"), E.resizeZoom(), E.onzoomin && E.onzoomin.call(E), E.cancelEvent(o) } }, this.doZoomOut = function (o) { if (E.zoomactive) return E.zoomactive = !1, E.win.css("margin", ""), E.win.css(E.zoomrestore.style), R.isios4 && h.scrollTop(E.zoomrestore.scrollTop), E.rail.css({ "z-index": E.zindex }), E.zoom.css({ "z-index": E.zindex }), E.zoomrestore = !1, E.zoom.css("backgroundPosition", "0 0"), E.onResize(), E.onzoomout && E.onzoomout.call(E), E.cancelEvent(o) }, this.doZoom = function (o) { return E.zoomactive ? E.doZoomOut(o) : E.doZoomIn(o) }, this.resizeZoom = function () { if (E.zoomactive) { var e = E.getScrollTop(); E.win.css({ width: h.width() - E.zoomrestore.padding.w + "px", height: h.height() - E.zoomrestore.padding.h + "px" }), E.onResize(), E.setScrollTop(Math.min(E.page.maxh, e)) } }, this.init(), c.nicescroll.push(this) }, T = function (e) { var o = this; this.nc = e, this.lastx = 0, this.lasty = 0, this.speedx = 0, this.speedy = 0, this.lasttime = 0, this.steptime = 0, this.snapx = !1, this.snapy = !1, this.demulx = 0, this.demuly = 0, this.lastscrollx = -1, this.lastscrolly = -1, this.chkx = 0, this.chky = 0, this.timer = 0, this.reset = function (e, r) { o.stop(), o.steptime = 0, o.lasttime = f(), o.speedx = 0, o.speedy = 0, o.lastx = e, o.lasty = r, o.lastscrollx = -1, o.lastscrolly = -1 }, this.update = function (e, r) { var l = f(); o.steptime = l - o.lasttime, o.lasttime = l; var t = r - o.lasty, s = e - o.lastx, i = o.nc.getScrollTop(), a = o.nc.getScrollLeft(), n = i + t, c = a + s; o.snapx = 0 > c || c > o.nc.page.maxw, o.snapy = 0 > n || n > o.nc.page.maxh, o.speedx = s, o.speedy = t, o.lastx = e, o.lasty = r }, this.stop = function () { o.nc.unsynched("domomentum2d"), o.timer && clearTimeout(o.timer), o.timer = 0, o.lastscrollx = -1, o.lastscrolly = -1 }, this.doSnapy = function (e, r) { var l = !1; 0 > r ? (r = 0, l = !0) : r > o.nc.page.maxh && (r = o.nc.page.maxh, l = !0), 0 > e ? (e = 0, l = !0) : e > o.nc.page.maxw && (e = o.nc.page.maxw, l = !0), l ? o.nc.doScrollPos(e, r, o.nc.opt.snapbackspeed) : o.nc.triggerScrollEnd() }, this.doMomentum = function (e) { var r = f(), t = e ? r + e : o.lasttime, l = o.nc.getScrollLeft(), s = o.nc.getScrollTop(), i = o.nc.page.maxh, a = o.nc.page.maxw; o.speedx = 0 < a ? Math.min(60, o.speedx) : 0, o.speedy = 0 < i ? Math.min(60, o.speedy) : 0; var n = t && 60 >= r - t; (0 > s || s > i || 0 > l || l > a) && (n = !1); var c = !!(o.speedy && n) && o.speedy, d = !!(o.speedx && n) && o.speedx; if (c || d) { var u = Math.max(16, o.steptime); if (50 < u) { var h = u / 50; o.speedx *= h, o.speedy *= h, u = 50 } o.demulxy = 0, o.lastscrollx = o.nc.getScrollLeft(), o.chkx = o.lastscrollx, o.lastscrolly = o.nc.getScrollTop(), o.chky = o.lastscrolly; var p = o.lastscrollx, m = o.lastscrolly, g = function () { var e = 600 < f() - r ? .04 : .02; o.speedx && (p = Math.floor(o.lastscrollx - o.speedx * (1 - o.demulxy)), o.lastscrollx = p, (0 > p || p > a) && (e = .1)), o.speedy && (m = Math.floor(o.lastscrolly - o.speedy * (1 - o.demulxy)), o.lastscrolly = m, (0 > m || m > i) && (e = .1)), o.demulxy = Math.min(1, o.demulxy + e), o.nc.synched("domomentum2d", function () { if (o.speedx) { o.nc.getScrollLeft(); o.chkx = p, o.nc.setScrollLeft(p) } if (o.speedy) { o.nc.getScrollTop(); o.chky = m, o.nc.setScrollTop(m) } o.timer || (o.nc.hideCursor(), o.doSnapy(p, m)) }), 1 > o.demulxy ? o.timer = setTimeout(g, u) : (o.stop(), o.nc.hideCursor(), o.doSnapy(p, m)) }; g() } else o.doSnapy(o.nc.getScrollLeft(), o.nc.getScrollTop()) } }, E = e.fn.scrollTop; e.cssHooks.pageYOffset = { get: function (e) { var o = c.data(e, "__nicescroll") || !1; return o && o.ishwscroll ? o.getScrollTop() : E.call(e) }, set: function (e, o) { var r = c.data(e, "__nicescroll") || !1; return r && r.ishwscroll ? r.setScrollTop(parseInt(o)) : E.call(e, o), this } }, e.fn.scrollTop = function (e) { if (e === void 0) { var o = !!this[0] && (c.data(this[0], "__nicescroll") || !1); return o && o.ishwscroll ? o.getScrollTop() : E.call(this) } return this.each(function () { var o = c.data(this, "__nicescroll") || !1; o && o.ishwscroll ? o.setScrollTop(parseInt(e)) : E.call(c(this), e) }) }; var L = e.fn.scrollLeft; c.cssHooks.pageXOffset = { get: function (e) { var o = c.data(e, "__nicescroll") || !1; return o && o.ishwscroll ? o.getScrollLeft() : L.call(e) }, set: function (e, o) { var r = c.data(e, "__nicescroll") || !1; return r && r.ishwscroll ? r.setScrollLeft(parseInt(o)) : L.call(e, o), this } }, e.fn.scrollLeft = function (e) { if (e === void 0) { var o = !!this[0] && (c.data(this[0], "__nicescroll") || !1); return o && o.ishwscroll ? o.getScrollLeft() : L.call(this) } return this.each(function () { var o = c.data(this, "__nicescroll") || !1; o && o.ishwscroll ? o.setScrollLeft(parseInt(e)) : L.call(c(this), e) }) }; var C = function (e) { var o = this; if (this.length = 0, this.name = "nicescrollarray", this.each = function (e) { return c.each(o, e), o }, this.push = function (e) { o[o.length] = e, o.length++ }, this.eq = function (e) { return o[e] }, e) for (var r, l = 0; l < e.length; l++)r = c.data(e[l], "__nicescroll") || !1, r && (this[this.length] = r, this.length++); return this }; (function (e, o, r) { for (var t = 0, s = o.length; t < s; t++)r(e, o[t]) })(C.prototype, ["show", "hide", "toggle", "onResize", "resize", "remove", "stop", "doScrollPos"], function (o, e) { o[e] = function () { var o = arguments; return this.each(function () { this[e].apply(this, o) }) } }), e.fn.getNiceScroll = function (e) { return void 0 === e ? new C(this) : this[e] && c.data(this[e], "__nicescroll") || !1 }; var P = e.expr.pseudos || e.expr[":"]; P.nicescroll = function (e) { return c.data(e, "__nicescroll") !== void 0 }, c.fn.niceScroll = function (e, o) { void 0 !== o || "object" != typeof e || "jquery" in e || (o = e, e = !1); var r = new C; return this.each(function () { var l = c(this), t = c.extend({}, o); if (e || !1) { var s = c(e); t.doc = 1 < s.length ? c(e, l) : s, t.win = l } var i = !("doc" in t); i || "win" in t || (t.win = l); var a = l.data("__nicescroll") || !1; a || (t.doc = t.doc || l, a = new k(t, l), l.data("__nicescroll", a)), r.push(a) }), 1 === r.length ? r[0] : r }, u.NiceScroll = { getjQuery: function () { return e } }, c.nicescroll || (c.nicescroll = new C, c.nicescroll.options = x) });